---
title: Webpack ä¸­çš„å¸¸è§ Loader ä¸è§£å†³çš„é—®é¢˜
description: æ¢ç´¢ Loader çš„åŸç†ã€ç”¨æ³•åŠåœ¨é¡¹ç›®ä¸­çš„å¸¸è§åº”ç”¨åœºæ™¯
tags: [webpack, loader, å‰ç«¯æ„å»º, æ¨¡å—åŒ–, css-loader, babel-loader]
---

# Webpack ä¸­çš„å¸¸è§ Loader ä¸è§£å†³çš„é—®é¢˜

åœ¨ Webpack ä¸­ï¼Œ**Loader æ˜¯æ¨¡å—è½¬æ¢å™¨**ï¼Œç”¨äºå°†å„ç§é JavaScript æ–‡ä»¶ï¼ˆå¦‚ CSSã€å›¾ç‰‡ã€Sassã€TS ç­‰ï¼‰è½¬æ¢ä¸º Webpack èƒ½è¯†åˆ«çš„æ¨¡å—ï¼Œä»è€Œçº³å…¥ä¾èµ–å›¾ä¸­ä¸€èµ·æ‰“åŒ…è¾“å‡ºã€‚

Webpack æœ¬èº«åªè¯†åˆ« JS å’Œ JSON æ–‡ä»¶ï¼Œé‡åˆ°å…¶ä»–ç±»å‹æ–‡ä»¶æ—¶ï¼Œéœ€è¦ä¾èµ– Loader æ¥å¤„ç†ã€‚

---

## ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ Loaderï¼Ÿ

Webpack çš„æ ¸å¿ƒèŒè´£æ˜¯**æ„å»ºæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»**ï¼Œå°†å®ƒä»¬æ‰“åŒ…æˆæœ€ç»ˆçš„èµ„æºæ–‡ä»¶ã€‚ç„¶è€Œï¼Œåœ¨ç°ä»£å‰ç«¯é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸æ­¢ä½¿ç”¨ JS æ–‡ä»¶ï¼š

- `.css` æ ·å¼æ–‡ä»¶
- `.scss` / `.less` é¢„å¤„ç†å™¨
- `.png` / `.svg` å›¾ç‰‡èµ„æº
- `.ts` / `.jsx` ç±»å‹å¢å¼ºè¯­æ³•
- `.vue` / `.md` ç­‰è‡ªå®šä¹‰æ–‡ä»¶

Webpack é»˜è®¤æ— æ³•å¤„ç†è¿™äº›å†…å®¹ï¼Œå› æ­¤ Loader å°±ç™»åœºäº†ï¼š

> ğŸ’¡ Loader çš„æœ¬è´¨ï¼š**å°†æŸç§ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º JS æ¨¡å—ä»£ç **

---

## äºŒã€Loader çš„å¤„ç†æµç¨‹

å½“ Webpack é‡åˆ°æŸä¸ªç±»å‹çš„æ¨¡å—ï¼Œå®ƒä¼šæŒ‰ç…§é…ç½®ä¸­ `module.rules` çš„è§„åˆ™æŸ¥æ‰¾å¯¹åº”çš„ Loaderï¼š

```js
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [
          'style-loader',     // æ’å…¥æ ·å¼åˆ° DOM ä¸­
          'css-loader'        // å°† CSS è½¬ä¸º CommonJS æ¨¡å—
        ]
      }
    ]
  }
};
````

### åŠ è½½é¡ºåºï¼š

* Loader æ˜¯**é“¾å¼æ‰§è¡Œ**çš„ï¼Œä»åå‘å‰æ‰§è¡Œ
* ä¸Šä¾‹ä¸­ï¼š`css-loader` â†’ `style-loader`

### ä¸‰ç§é…ç½® Loader çš„æ–¹å¼ï¼š

| æ–¹å¼     | è¯´æ˜                                                                    |
| ------ | --------------------------------------------------------------------- |
| é…ç½®æ–¹å¼   | æœ€æ¨èï¼Œåœ¨ `webpack.config.js` ä¸­é…ç½®                                         |
| å†…è”æ–¹å¼   | åœ¨ `import` è¯­å¥ä¸­æŒ‡å®š loaderï¼Œå¦‚ï¼š`import 'style-loader!css-loader!main.css'` |
| CLI æ–¹å¼ | ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°è®¾ç½® loaderï¼Œä»…ç”¨äºç®€å•åœºæ™¯                                              |

---

## ä¸‰ã€Loader çš„ç‰¹æ€§

* å¯ä»¥æ˜¯åŒæ­¥æˆ–å¼‚æ­¥çš„
* å¯é€šè¿‡ npm åŒ…æˆ–ç»å¯¹è·¯å¾„æŒ‡å®š
* æ”¯æŒé“¾å¼ç»„åˆï¼ˆåé¢çš„ loader å¤„ç†å‰ä¸€ä¸ª loader çš„è¾“å‡ºï¼‰
* å¯ä»¥äº§å‡ºé¢å¤–æ–‡ä»¶ï¼ˆå¦‚ `file-loader` è¾“å‡ºæ–‡ä»¶ï¼‰
* æ’ä»¶ï¼ˆpluginï¼‰å¯ä»¥ä¸ loader æ­é…ï¼Œå¢å¼ºåŠŸèƒ½

---

## å››ã€å¸¸è§ Loader åˆ†ç±»ä¸ç”¨é€”

### ğŸ“¦ æ ·å¼ç›¸å…³

| Loader                | è¯´æ˜                                |
| --------------------- | --------------------------------- |
| `style-loader`        | å°† CSS é€šè¿‡ `<style>` æ ‡ç­¾æ’å…¥é¡µé¢         |
| `css-loader`          | è§£æ `@import` ä¸ `url()`ï¼Œå°† CSS è½¬ä¸ºæ¨¡å— |
| `sass-loader`         | å°† Sass ç¼–è¯‘æˆ CSS                    |
| `less-loader`         | å°† Less ç¼–è¯‘æˆ CSS                    |
| `postcss-loader`      | åå¤„ç† CSSï¼Œä¾‹å¦‚æ·»åŠ å‰ç¼€                    |
| `autoprefixer-loader` | å·²åºŸå¼ƒï¼Œä½¿ç”¨ PostCSS æ’ä»¶ä»£æ›¿               |

### ğŸ–¼ï¸ èµ„æºæ–‡ä»¶ç›¸å…³

| Loader                 | è¯´æ˜                             |
| ---------------------- | ------------------------------ |
| `file-loader`          | æŠŠæ–‡ä»¶è¾“å‡ºåˆ° `output` ç›®å½•ï¼Œå¹¶è¿”å›è·¯å¾„       |
| `url-loader`           | å°æ–‡ä»¶è½¬ä¸º base64ï¼Œå¤§æ–‡ä»¶äº¤ç»™ file-loader |
| `image-webpack-loader` | å›¾åƒå‹ç¼©ä¼˜åŒ–ï¼ˆé…åˆä¸Šè¿°ä½¿ç”¨ï¼‰                 |
| `html-loader`          | å¤„ç† HTML æ–‡ä»¶ä¸­çš„ `<img src>`       |

### ğŸ’¡ è„šæœ¬è¯­è¨€è½¬æ¢

| Loader          | è¯´æ˜                          |
| --------------- | --------------------------- |
| `babel-loader`  | ä½¿ç”¨ Babel è½¬æ¢ ES6+ / JSX      |
| `ts-loader`     | ä½¿ç”¨ TypeScript ç¼–è¯‘ `.ts/.tsx` |
| `eslint-loader` | é™æ€ä»£ç æ£€æµ‹                      |

### ğŸ“¦ å…¶ä»–åŠŸèƒ½æ€§ Loader

| Loader              | è¯´æ˜                        |
| ------------------- | ------------------------- |
| `markdown-loader`   | å¤„ç† `.md` æ–‡ä»¶ï¼Œè½¬æ¢ä¸º HTML æˆ–å­—ç¬¦ä¸² |
| `vue-loader`        | è§£æ `.vue` å•æ–‡ä»¶ç»„ä»¶           |
| `svg-sprite-loader` | æŠŠå¤šä¸ª SVG åˆæˆä¸€ä¸ªç²¾çµå›¾           |
| `raw-loader`        | å¯¼å…¥çº¯æ–‡æœ¬å†…å®¹ï¼ˆå¦‚ä»£ç ç¤ºä¾‹ï¼‰            |

---

## äº”ã€æ ·ä¾‹ï¼šå¤š Loader é“¾å¼è°ƒç”¨

```js
{
  test: /\.scss$/,
  use: [
    'style-loader',
    {
      loader: 'css-loader',
      options: { modules: true }
    },
    'sass-loader',
    'postcss-loader'
  ]
}
```

è§£é‡Šé¡ºåºï¼ˆç”±ä¸‹å¾€ä¸Šï¼‰ï¼š

1. `postcss-loader`: æ·»åŠ å‰ç¼€ç­‰å¤„ç†
2. `sass-loader`: å°† `.scss` ç¼–è¯‘æˆ `.css`
3. `css-loader`: æŠŠ CSS è½¬ä¸ºæ¨¡å—
4. `style-loader`: æŠŠæ ·å¼æ’å…¥ DOM ä¸­

---

## å…­ã€ç»“è¯­

Loader æ˜¯ Webpack æ„å»ºæµç¨‹ä¸­çš„å…³é”®ä¸€ç¯ï¼Œå®ƒè®© Webpack æˆä¸ºä¸€ä¸ªçœŸæ­£çš„â€œå…¨æ ˆèµ„æºæ‰“åŒ…å™¨â€ã€‚é€šè¿‡åˆç†é…ç½® Loaderï¼Œä½ å¯ä»¥å®ç°ï¼š

* ä½¿ç”¨ Sass/Less ç­‰é«˜çº§è¯­æ³•
* æ”¯æŒ TSã€JSX ç­‰ç¼–è¯‘
* è‡ªåŠ¨å¼•å…¥å›¾ç‰‡ã€å­—ä½“ã€SVG
* æŠŠ Markdownã€HTMLã€Vue æ–‡ä»¶æ¨¡å—åŒ–

> âœ… å»ºè®®å°†å¸¸ç”¨ Loader æ•´ç†æˆæ¨¡æ¿é…ç½®ï¼Œæé«˜é¡¹ç›®å¯åŠ¨æ•ˆç‡ã€‚
